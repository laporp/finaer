import{R as V,j as e,M as X,G as o,y as Y,z as Z,b as g,S as _,A as v,B as h,E as ee,C as D,I as f}from"./index-B4v5z84n.js";import{r as u}from"./router-BWB4lwgb.js";import{T as t,S as b,M as x,A as ae}from"./TextField-JXFbNTHZ.js";import{F as C}from"./FormControl-0BoHNiFb.js";import{I as y}from"./OutlinedInput-CLPfjtlP.js";import{S as ie,C as W}from"./Search-B_VDFuKQ.js";import{A as le,S as oe,E as se,T as re,a as te}from"./ToggleOn-LRN4vZBO.js";import{T as ne}from"./TableContainer-DHJIhT0E.js";import{T as ce,d as de,b as k,c as n,a as me}from"./TableRow-CEpqJaJk.js";import{D as he,a as ue,b as xe,c as je}from"./DialogTitle-D7slqSbK.js";import"./vendor-D5d5vywP.js";import"./useControlled-qcIaR4WP.js";const ge=V([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]);function Se(){const[r,p]=u.useState({nombre:"",especialidad:"Todas",matricula:"",estado:"Todos"}),[z,E]=u.useState([]),[G,F]=u.useState(!1),[l,m]=u.useState({nombre:"",apellido:"",especialidad:"",matricula:"",telefono:"",email:"",horarioInicio:"",horarioFin:"",estado:"activo"}),[j,T]=u.useState(null),[s,d]=u.useState({}),[S,c]=u.useState(""),I=["Cardiología","Neurología","Pediatría","Ginecología","Dermatología","Traumatología","Psiquiatría","Oftalmología"],M=[{id:1,nombre:"Juan Carlos",apellido:"Pérez",especialidad:"Cardiología",matricula:"MP-12345",telefono:"011-4567-8901",email:"dr.perez@finaer.com",horarioInicio:"08:00",horarioFin:"16:00",fechaIngreso:"2024-01-15",estado:"activo",consultasSemanales:45},{id:2,nombre:"María Elena",apellido:"García",especialidad:"Neurología",matricula:"MP-67890",telefono:"011-4567-8902",email:"dra.garcia@finaer.com",horarioInicio:"09:00",horarioFin:"17:00",fechaIngreso:"2024-02-10",estado:"activo",consultasSemanales:38},{id:3,nombre:"Carlos Alberto",apellido:"López",especialidad:"Pediatría",matricula:"MP-11223",telefono:"011-4567-8903",email:"dr.lopez@finaer.com",horarioInicio:"10:00",horarioFin:"18:00",fechaIngreso:"2024-03-05",estado:"activo",consultasSemanales:52},{id:4,nombre:"Ana Laura",apellido:"Martínez",especialidad:"Ginecología",matricula:"MP-44556",telefono:"011-4567-8904",email:"dra.martinez@finaer.com",horarioInicio:"14:00",horarioFin:"20:00",fechaIngreso:"2023-12-01",estado:"inactivo",consultasSemanales:0}],L=()=>{let a=M.filter(i=>{const R=r.nombre===""||`${i.nombre} ${i.apellido}`.toLowerCase().includes(r.nombre.toLowerCase()),K=r.especialidad==="Todas"||i.especialidad===r.especialidad,Q=r.matricula===""||i.matricula.toLowerCase().includes(r.matricula.toLowerCase()),U=r.estado==="Todos"||i.estado===r.estado;return R&&K&&Q&&U});E(a),c(`Se encontraron ${a.length} profesionales que coinciden con los filtros.`),setTimeout(()=>c(""),3e3)},w=()=>{p({nombre:"",especialidad:"Todas",matricula:"",estado:"Todos"}),E([]),c("Filtros limpiados correctamente."),setTimeout(()=>c(""),3e3)},N=()=>{F(!0),m({nombre:"",apellido:"",especialidad:"",matricula:"",telefono:"",email:"",horarioInicio:"",horarioFin:"",estado:"activo"})},P=()=>{F(!1)},B=()=>{if(!l.nombre||!l.apellido||!l.especialidad||!l.matricula){c("Por favor complete todos los campos obligatorios."),setTimeout(()=>c(""),3e3);return}console.log("Guardando profesional:",l),c("Profesional creado exitosamente."),setTimeout(()=>c(""),3e3),P()},$=a=>{T(a.id),d({...a})},H=()=>{T(null),d({})},q=()=>{console.log("Guardando cambios:",s),c("Profesional actualizado exitosamente."),setTimeout(()=>c(""),3e3),T(null),d({})},O=(a,i)=>{console.log(`Cambiando estado del profesional ${a} a ${i}`),c(`Profesional ${i==="activo"?"activado":"desactivado"} exitosamente.`),setTimeout(()=>c(""),3e3)},J=a=>({Cardiología:"error",Neurología:"warning",Pediatría:"success",Ginecología:"info",Dermatología:"secondary",Traumatología:"primary",Psiquiatría:"warning",Oftalmología:"info"})[a]||"default",A=z.length>0?z:M;return e.jsxs(X,{title:"Gestión de Profesionales",children:[e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,children:e.jsx(Y,{children:e.jsxs(Z,{children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"Filtros de Búsqueda"}),e.jsxs(o,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(o,{item:!0,xs:12,md:3,children:e.jsx(t,{fullWidth:!0,label:"Nombre Completo",value:r.nombre,onChange:a=>p({...r,nombre:a.target.value}),placeholder:"Dr. Juan Pérez"})}),e.jsx(o,{item:!0,xs:12,md:2,children:e.jsxs(C,{fullWidth:!0,children:[e.jsx(y,{children:"Especialidad"}),e.jsxs(b,{value:r.especialidad,label:"Especialidad",onChange:a=>p({...r,especialidad:a.target.value}),children:[e.jsx(x,{value:"Todas",children:"Todas"}),I.map(a=>e.jsx(x,{value:a,children:a},a))]})]})}),e.jsx(o,{item:!0,xs:12,md:2,children:e.jsx(t,{fullWidth:!0,label:"Matrícula",value:r.matricula,onChange:a=>p({...r,matricula:a.target.value}),placeholder:"MP-12345"})}),e.jsx(o,{item:!0,xs:12,md:2,children:e.jsxs(C,{fullWidth:!0,children:[e.jsx(y,{children:"Estado"}),e.jsxs(b,{value:r.estado,label:"Estado",onChange:a=>p({...r,estado:a.target.value}),children:[e.jsx(x,{value:"Todos",children:"Todos"}),e.jsx(x,{value:"activo",children:"Activo"}),e.jsx(x,{value:"inactivo",children:"Inactivo"})]})]})}),e.jsx(o,{item:!0,xs:12,md:3,children:e.jsxs(_,{direction:"row",spacing:1,children:[e.jsx(v,{variant:"contained",startIcon:e.jsx(ie,{}),onClick:L,sx:{height:"56px"},children:"Buscar"}),e.jsx(v,{variant:"outlined",startIcon:e.jsx(W,{}),onClick:w,sx:{height:"56px"},children:"Limpiar"})]})})]})]})})}),e.jsx(o,{item:!0,xs:12,children:e.jsxs(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(g,{variant:"h6",children:["Lista de Profesionales (",A.length,")"]}),e.jsx(v,{variant:"contained",startIcon:e.jsx(le,{}),onClick:N,children:"Agregar Profesional"})]})}),S&&e.jsx(o,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",sx:{mb:2},children:S})}),e.jsx(o,{item:!0,xs:12,children:e.jsx(ne,{component:ee,children:e.jsxs(ce,{children:[e.jsx(de,{children:e.jsxs(k,{children:[e.jsx(n,{children:e.jsx("strong",{children:"Nombre Completo"})}),e.jsx(n,{children:e.jsx("strong",{children:"Especialidad"})}),e.jsx(n,{children:e.jsx("strong",{children:"Matrícula"})}),e.jsx(n,{children:e.jsx("strong",{children:"Contacto"})}),e.jsx(n,{children:e.jsx("strong",{children:"Horario"})}),e.jsx(n,{children:e.jsx("strong",{children:"Consultas/Sem"})}),e.jsx(n,{children:e.jsx("strong",{children:"Estado"})}),e.jsx(n,{children:e.jsx("strong",{children:"Acciones"})})]})}),e.jsx(me,{children:A.map(a=>e.jsxs(k,{children:[e.jsx(n,{children:j===a.id?e.jsxs(h,{sx:{display:"flex",gap:1},children:[e.jsx(t,{size:"small",placeholder:"Nombre",value:s.nombre||"",onChange:i=>d({...s,nombre:i.target.value})}),e.jsx(t,{size:"small",placeholder:"Apellido",value:s.apellido||"",onChange:i=>d({...s,apellido:i.target.value})})]}):`Dr. ${a.nombre} ${a.apellido}`}),e.jsx(n,{children:j===a.id?e.jsx(C,{size:"small",sx:{minWidth:140},children:e.jsx(b,{value:s.especialidad||"",onChange:i=>d({...s,especialidad:i.target.value}),children:I.map(i=>e.jsx(x,{value:i,children:i},i))})}):e.jsx(D,{label:a.especialidad,color:J(a.especialidad),size:"small"})}),e.jsx(n,{children:j===a.id?e.jsx(t,{size:"small",value:s.matricula||"",onChange:i=>d({...s,matricula:i.target.value})}):a.matricula}),e.jsx(n,{children:j===a.id?e.jsxs(h,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(t,{size:"small",placeholder:"Teléfono",value:s.telefono||"",onChange:i=>d({...s,telefono:i.target.value})}),e.jsx(t,{size:"small",placeholder:"Email",value:s.email||"",onChange:i=>d({...s,email:i.target.value})})]}):e.jsxs(h,{children:[e.jsx(g,{variant:"body2",children:a.telefono}),e.jsx(g,{variant:"caption",color:"text.secondary",children:a.email})]})}),e.jsx(n,{children:j===a.id?e.jsxs(h,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsx(t,{size:"small",type:"time",value:s.horarioInicio||"",onChange:i=>d({...s,horarioInicio:i.target.value})}),e.jsx("span",{children:"-"}),e.jsx(t,{size:"small",type:"time",value:s.horarioFin||"",onChange:i=>d({...s,horarioFin:i.target.value})})]}):e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ge,{fontSize:"small",color:"action"}),e.jsxs(g,{variant:"body2",children:[a.horarioInicio," - ",a.horarioFin]})]})}),e.jsx(n,{children:e.jsx(g,{variant:"body2",color:a.consultasSemanales>0?"primary":"text.disabled",children:a.consultasSemanales})}),e.jsx(n,{children:e.jsx(D,{label:a.estado==="activo"?"Activo":"Inactivo",color:a.estado==="activo"?"success":"default",size:"small"})}),e.jsx(n,{children:e.jsx(h,{sx:{display:"flex",gap:1},children:j===a.id?e.jsxs(e.Fragment,{children:[e.jsx(f,{size:"small",color:"primary",onClick:q,title:"Guardar cambios",children:e.jsx(oe,{})}),e.jsx(f,{size:"small",color:"secondary",onClick:H,title:"Cancelar edición",children:e.jsx(W,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{size:"small",color:"primary",onClick:()=>$(a),title:"Editar profesional",children:e.jsx(se,{})}),e.jsx(f,{size:"small",color:a.estado==="activo"?"warning":"success",onClick:()=>O(a.id,a.estado==="activo"?"inactivo":"activo"),title:a.estado==="activo"?"Desactivar profesional":"Activar profesional",children:a.estado==="activo"?e.jsx(re,{}):e.jsx(te,{})})]})})})]},a.id))})]})})})]}),e.jsxs(he,{open:G,onClose:P,maxWidth:"md",fullWidth:!0,children:[e.jsx(ue,{children:"Agregar Nuevo Profesional"}),e.jsx(xe,{children:e.jsxs(o,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,label:"Nombre *",value:l.nombre,onChange:a=>m({...l,nombre:a.target.value}),placeholder:"Juan Carlos"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,label:"Apellido *",value:l.apellido,onChange:a=>m({...l,apellido:a.target.value}),placeholder:"Pérez"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(C,{fullWidth:!0,children:[e.jsx(y,{children:"Especialidad *"}),e.jsx(b,{value:l.especialidad,label:"Especialidad *",onChange:a=>m({...l,especialidad:a.target.value}),children:I.map(a=>e.jsx(x,{value:a,children:a},a))})]})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,label:"Matrícula *",value:l.matricula,onChange:a=>m({...l,matricula:a.target.value}),placeholder:"MP-12345"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,label:"Teléfono",value:l.telefono,onChange:a=>m({...l,telefono:a.target.value}),placeholder:"011-4567-8901"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,label:"Email",type:"email",value:l.email,onChange:a=>m({...l,email:a.target.value}),placeholder:"dr.perez@finaer.com"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,label:"Horario Inicio",type:"time",value:l.horarioInicio,onChange:a=>m({...l,horarioInicio:a.target.value}),InputLabelProps:{shrink:!0}})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,label:"Horario Fin",type:"time",value:l.horarioFin,onChange:a=>m({...l,horarioFin:a.target.value}),InputLabelProps:{shrink:!0}})})]})}),e.jsxs(je,{children:[e.jsx(v,{onClick:P,children:"Cancelar"}),e.jsx(v,{onClick:B,variant:"contained",children:"Guardar Profesional"})]})]})]})}export{Se as default};
