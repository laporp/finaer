import{j as e,M as V,G as a,y as X,z as Y,b as j,S as Z,A as p,B as y,E as _,C as A,I as b}from"./index-Bnb3IdSO.js";import{r as h}from"./router-BWB4lwgb.js";import{T as c,S as g,M as d,A as ee}from"./TextField-BzF4YXrv.js";import{F as v}from"./FormControl-CdErbr8j.js";import{I as f}from"./OutlinedInput-BkUKPOVC.js";import{S as ie,C as w}from"./Search-BwJtXfxB.js";import{A as se,S as ae,E as oe,T as re,a as le}from"./ToggleOn-B5I4mK_l.js";import{T as ne}from"./TableContainer-Dcxlx433.js";import{T as te,d as de,b as N,c as o,a as ce}from"./TableRow-iWNsxWmG.js";import{A as ue}from"./AccessTime-C7_MRm4h.js";import{D as xe,a as me,b as he,c as je}from"./DialogTitle-jX2fboJG.js";import"./vendor-D5d5vywP.js";import"./useControlled-qcIaR4WP.js";function De(){const[r,C]=h.useState({nombre:"",codigo:"",especialidad:"Todas",estado:"Todos"}),[P,q]=h.useState([]),[I,D]=h.useState(!1),[l,x]=h.useState({nombre:"",codigo:"",especialidad:"",duracion:"",descripcion:"",requiereTurno:"si",estado:"activo"}),[m,T]=h.useState(null),[n,u]=h.useState({}),[z,t]=h.useState(""),S=["Cardiología","Neurología","Pediatría","Ginecología","Dermatología","Traumatología","Psiquiatría","Oftalmología","Odontología","Análisis Clínicos"],F=[{id:1,nombre:"Consulta Cardiológica",codigo:"CC001",especialidad:"Cardiología",duracion:"30",descripcion:"Consulta general de cardiología",requiereTurno:"si",fechaCreacion:"2024-01-15",estado:"activo",usosSemanales:25},{id:2,nombre:"Electrocardiograma",codigo:"ECG01",especialidad:"Cardiología",duracion:"15",descripcion:"Estudio del ritmo cardíaco",requiereTurno:"si",fechaCreacion:"2024-01-20",estado:"activo",usosSemanales:40},{id:3,nombre:"Consulta Neurológica",codigo:"CN001",especialidad:"Neurología",duracion:"45",descripcion:"Consulta general de neurología",requiereTurno:"si",fechaCreacion:"2024-02-01",estado:"activo",usosSemanales:18},{id:4,nombre:"Análisis de Sangre",codigo:"AS001",especialidad:"Análisis Clínicos",duracion:"10",descripcion:"Extracción y análisis de sangre",requiereTurno:"no",fechaCreacion:"2024-01-10",estado:"inactivo",usosSemanales:0}],M=()=>{let i=F.filter(s=>{const U=r.nombre===""||s.nombre.toLowerCase().includes(r.nombre.toLowerCase()),J=r.codigo===""||s.codigo.toLowerCase().includes(r.codigo.toLowerCase()),K=r.especialidad==="Todas"||s.especialidad===r.especialidad,Q=r.estado==="Todos"||s.estado===r.estado;return U&&J&&K&&Q});q(i),t(`Se encontraron ${i.length} prácticas que coinciden con los filtros.`),setTimeout(()=>t(""),3e3)},k=()=>{C({nombre:"",codigo:"",especialidad:"Todas",estado:"Todos"}),q([]),t("Filtros limpiados correctamente."),setTimeout(()=>t(""),3e3)},G=()=>{D(!0),x({nombre:"",codigo:"",especialidad:"",duracion:"",descripcion:"",requiereTurno:"si",estado:"activo"})},E=()=>{D(!1)},B=()=>{if(!l.nombre||!l.codigo||!l.especialidad){t("Por favor complete todos los campos obligatorios."),setTimeout(()=>t(""),3e3);return}console.log("Guardando práctica:",l),t("Práctica creada exitosamente."),setTimeout(()=>t(""),3e3),E()},L=i=>{T(i.id),u({...i})},O=()=>{T(null),u({})},R=()=>{console.log("Guardando cambios:",n),t("Práctica actualizada exitosamente."),setTimeout(()=>t(""),3e3),T(null),u({})},$=(i,s)=>{console.log(`Cambiando estado de la práctica ${i} a ${s}`),t(`Práctica ${s==="activo"?"activada":"desactivada"} exitosamente.`),setTimeout(()=>t(""),3e3)},H=i=>({Cardiología:"error",Neurología:"warning",Pediatría:"success",Ginecología:"info",Dermatología:"secondary",Traumatología:"primary",Psiquiatría:"warning",Oftalmología:"info",Odontología:"success","Análisis Clínicos":"secondary"})[i]||"default",W=P.length>0?P:F;return e.jsxs(V,{title:"Gestión de Prácticas",children:[e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(X,{children:e.jsxs(Y,{children:[e.jsx(j,{variant:"h6",gutterBottom:!0,children:"Filtros de Búsqueda"}),e.jsxs(a,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(a,{item:!0,xs:12,md:3,children:e.jsx(c,{fullWidth:!0,label:"Nombre de la Práctica",value:r.nombre,onChange:i=>C({...r,nombre:i.target.value}),placeholder:"Consulta Cardiológica"})}),e.jsx(a,{item:!0,xs:12,md:2,children:e.jsx(c,{fullWidth:!0,label:"Código",value:r.codigo,onChange:i=>C({...r,codigo:i.target.value}),placeholder:"CC001"})}),e.jsx(a,{item:!0,xs:12,md:2,children:e.jsxs(v,{fullWidth:!0,children:[e.jsx(f,{children:"Especialidad"}),e.jsxs(g,{value:r.especialidad,label:"Especialidad",onChange:i=>C({...r,especialidad:i.target.value}),children:[e.jsx(d,{value:"Todas",children:"Todas"}),S.map(i=>e.jsx(d,{value:i,children:i},i))]})]})}),e.jsx(a,{item:!0,xs:12,md:2,children:e.jsxs(v,{fullWidth:!0,children:[e.jsx(f,{children:"Estado"}),e.jsxs(g,{value:r.estado,label:"Estado",onChange:i=>C({...r,estado:i.target.value}),children:[e.jsx(d,{value:"Todos",children:"Todos"}),e.jsx(d,{value:"activo",children:"Activo"}),e.jsx(d,{value:"inactivo",children:"Inactivo"})]})]})}),e.jsx(a,{item:!0,xs:12,md:3,children:e.jsxs(Z,{direction:"row",spacing:1,children:[e.jsx(p,{variant:"contained",startIcon:e.jsx(ie,{}),onClick:M,sx:{height:"56px"},children:"Buscar"}),e.jsx(p,{variant:"outlined",startIcon:e.jsx(w,{}),onClick:k,sx:{height:"56px"},children:"Limpiar"})]})})]})]})})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(j,{variant:"h6",children:["Lista de Prácticas (",W.length,")"]}),e.jsx(p,{variant:"contained",startIcon:e.jsx(se,{}),onClick:G,children:"Agregar Práctica"})]})}),z&&e.jsx(a,{item:!0,xs:12,children:e.jsx(ee,{severity:"info",sx:{mb:2},children:z})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(ne,{component:_,children:e.jsxs(te,{children:[e.jsx(de,{children:e.jsxs(N,{children:[e.jsx(o,{children:e.jsx("strong",{children:"Nombre"})}),e.jsx(o,{children:e.jsx("strong",{children:"Código"})}),e.jsx(o,{children:e.jsx("strong",{children:"Especialidad"})}),e.jsx(o,{children:e.jsx("strong",{children:"Duración"})}),e.jsx(o,{children:e.jsx("strong",{children:"Descripción"})}),e.jsx(o,{children:e.jsx("strong",{children:"Requiere Turno"})}),e.jsx(o,{children:e.jsx("strong",{children:"Usos/Sem"})}),e.jsx(o,{children:e.jsx("strong",{children:"Estado"})}),e.jsx(o,{children:e.jsx("strong",{children:"Acciones"})})]})}),e.jsx(ce,{children:W.map(i=>e.jsxs(N,{children:[e.jsx(o,{children:m===i.id?e.jsx(c,{size:"small",value:n.nombre||"",onChange:s=>u({...n,nombre:s.target.value})}):i.nombre}),e.jsx(o,{children:m===i.id?e.jsx(c,{size:"small",value:n.codigo||"",onChange:s=>u({...n,codigo:s.target.value})}):e.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontWeight:"bold"},children:i.codigo})}),e.jsx(o,{children:m===i.id?e.jsx(v,{size:"small",sx:{minWidth:140},children:e.jsx(g,{value:n.especialidad||"",onChange:s=>u({...n,especialidad:s.target.value}),children:S.map(s=>e.jsx(d,{value:s,children:s},s))})}):e.jsx(A,{label:i.especialidad,color:H(i.especialidad),size:"small"})}),e.jsx(o,{children:m===i.id?e.jsx(c,{size:"small",type:"number",value:n.duracion||"",onChange:s=>u({...n,duracion:s.target.value}),label:"min"}):e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ue,{fontSize:"small",color:"action"}),e.jsxs(j,{variant:"body2",children:[i.duracion," min"]})]})}),e.jsx(o,{children:m===i.id?e.jsx(c,{size:"small",multiline:!0,maxRows:3,value:n.descripcion||"",onChange:s=>u({...n,descripcion:s.target.value})}):e.jsx(j,{variant:"body2",sx:{maxWidth:200},children:i.descripcion})}),e.jsx(o,{children:m===i.id?e.jsx(v,{size:"small",sx:{minWidth:80},children:e.jsxs(g,{value:n.requiereTurno||"",onChange:s=>u({...n,requiereTurno:s.target.value}),children:[e.jsx(d,{value:"si",children:"Sí"}),e.jsx(d,{value:"no",children:"No"})]})}):e.jsx(A,{label:i.requiereTurno==="si"?"Sí":"No",color:i.requiereTurno==="si"?"warning":"success",size:"small"})}),e.jsx(o,{children:e.jsx(j,{variant:"body2",color:i.usosSemanales>0?"primary":"text.disabled",children:i.usosSemanales})}),e.jsx(o,{children:e.jsx(A,{label:i.estado==="activo"?"Activo":"Inactivo",color:i.estado==="activo"?"success":"default",size:"small"})}),e.jsx(o,{children:e.jsx(y,{sx:{display:"flex",gap:1},children:m===i.id?e.jsxs(e.Fragment,{children:[e.jsx(b,{size:"small",color:"primary",onClick:R,title:"Guardar cambios",children:e.jsx(ae,{})}),e.jsx(b,{size:"small",color:"secondary",onClick:O,title:"Cancelar edición",children:e.jsx(w,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{size:"small",color:"primary",onClick:()=>L(i),title:"Editar práctica",children:e.jsx(oe,{})}),e.jsx(b,{size:"small",color:i.estado==="activo"?"warning":"success",onClick:()=>$(i.id,i.estado==="activo"?"inactivo":"activo"),title:i.estado==="activo"?"Desactivar práctica":"Activar práctica",children:i.estado==="activo"?e.jsx(re,{}):e.jsx(le,{})})]})})})]},i.id))})]})})})]}),e.jsxs(xe,{open:I,onClose:E,maxWidth:"md",fullWidth:!0,children:[e.jsx(me,{children:"Agregar Nueva Práctica"}),e.jsx(he,{children:e.jsxs(a,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(c,{fullWidth:!0,label:"Nombre de la Práctica *",value:l.nombre,onChange:i=>x({...l,nombre:i.target.value}),placeholder:"Consulta Cardiológica"})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(c,{fullWidth:!0,label:"Código *",value:l.codigo,onChange:i=>x({...l,codigo:i.target.value}),placeholder:"CC001"})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(v,{fullWidth:!0,children:[e.jsx(f,{children:"Especialidad *"}),e.jsx(g,{value:l.especialidad,label:"Especialidad *",onChange:i=>x({...l,especialidad:i.target.value}),children:S.map(i=>e.jsx(d,{value:i,children:i},i))})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(c,{fullWidth:!0,label:"Duración (minutos)",type:"number",value:l.duracion,onChange:i=>x({...l,duracion:i.target.value}),placeholder:"30"})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(c,{fullWidth:!0,label:"Descripción",multiline:!0,rows:3,value:l.descripcion,onChange:i=>x({...l,descripcion:i.target.value}),placeholder:"Descripción detallada de la práctica médica"})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(v,{fullWidth:!0,children:[e.jsx(f,{children:"Requiere Turno"}),e.jsxs(g,{value:l.requiereTurno,label:"Requiere Turno",onChange:i=>x({...l,requiereTurno:i.target.value}),children:[e.jsx(d,{value:"si",children:"Sí"}),e.jsx(d,{value:"no",children:"No"})]})]})})]})}),e.jsxs(je,{children:[e.jsx(p,{onClick:E,children:"Cancelar"}),e.jsx(p,{onClick:B,variant:"contained",children:"Guardar Práctica"})]})]})]})}export{De as default};
