import{e as le,g as me,J as ue,U,j as e,s as K,p as Y,c as xe,V as ge,k as je,N as be,W as Ce,R as ve,M as fe,B as N,y as ye,z as Ee,b,G as x,S as Ae,A as I,D as Ie,E as V,C as Pe,I as L,L as _,x as ee}from"./index-DPdzcUTa.js";import{r as n}from"./router-BWB4lwgb.js";import{T as D,S as Se,M as J,A as Te}from"./TextField-D2Fs674o.js";import{F as Le}from"./FormControl-Bc5q5vBv.js";import{a as se,I as Ge}from"./OutlinedInput-oJBVk4Jr.js";import{S as Me,C as te}from"./Search-BJg9C1QO.js";import{A as oe,S as Re,E as Ne,T as De,a as ke}from"./ToggleOn-DSwU-6U6.js";import{T as ze}from"./TableContainer-PGdmwORK.js";import{T as Fe,d as $e,b as ie,c as l,a as we}from"./TableRow-DRjgF7nC.js";import{D as ae,a as re,b as ne,c as ce}from"./DialogTitle-D3gBt2m5.js";import"./vendor-D5d5vywP.js";import"./useControlled-qcIaR4WP.js";function Be(o){return le("MuiListItem",o)}me("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function We(o){return le("MuiListItemSecondaryAction",o)}me("MuiListItemSecondaryAction",["root","disableGutters"]);const Ue=o=>{const{disableGutters:t,classes:a}=o;return xe({root:["root",t&&"disableGutters"]},We,a)},He=K("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.root,a.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:o})=>o.disableGutters,style:{right:0}}]}),H=n.forwardRef(function(t,a){const m=ue({props:t,name:"MuiListItemSecondaryAction"}),{className:p,...h}=m,c=n.useContext(U),u={...m,disableGutters:c.disableGutters},P=Ue(u);return e.jsx(He,{className:Y(P.root,p),ownerState:u,ref:a,...h})});H.muiName="ListItemSecondaryAction";const qe=(o,t)=>{const{ownerState:a}=o;return[t.root,a.dense&&t.dense,a.alignItems==="flex-start"&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.hasSecondaryAction&&t.secondaryAction]},Oe=o=>{const{alignItems:t,classes:a,dense:m,disableGutters:p,disablePadding:h,divider:c,hasSecondaryAction:u}=o;return xe({root:["root",m&&"dense",!p&&"gutters",!h&&"padding",c&&"divider",t==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction"],container:["container"]},Be,a)},Qe=K("div",{name:"MuiListItem",slot:"Root",overridesResolver:qe})(be(({theme:o})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Ce.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),Ve=K("li",{name:"MuiListItem",slot:"Container",overridesResolver:(o,t)=>t.container})({position:"relative"}),de=n.forwardRef(function(t,a){const m=ue({props:t,name:"MuiListItem"}),{alignItems:p="center",children:h,className:c,component:u,components:P={},componentsProps:k={},ContainerComponent:i="li",ContainerProps:{className:z,...q}={},dense:S=!1,disableGutters:C=!1,disablePadding:v=!1,divider:f=!1,secondaryAction:G,slotProps:r={},slots:F={},...O}=m,$=n.useContext(U),M=n.useMemo(()=>({dense:S||$.dense||!1,alignItems:p,disableGutters:C}),[p,$.dense,S,C]),R=n.useRef(null),g=n.Children.toArray(h),w=g.length&&ge(g[g.length-1],["ListItemSecondaryAction"]),y={...m,alignItems:p,dense:M.dense,disableGutters:C,disablePadding:v,divider:f,hasSecondaryAction:w},B=Oe(y),W=je(R,a),T=F.root||P.Root||Qe,E=r.root||k.root||{},A={className:Y(B.root,E.className,c),...O};let j=u||"li";return w?(j=!A.component&&!u?"div":j,i==="li"&&(j==="li"?j="div":A.component==="li"&&(A.component="div")),e.jsx(U.Provider,{value:M,children:e.jsxs(Ve,{as:i,className:Y(B.container,z),ref:W,ownerState:y,...q,children:[e.jsx(T,{...E,...!se(T)&&{as:j,ownerState:{...y,...E.ownerState}},...A,children:g}),g.pop()]})})):e.jsx(U.Provider,{value:M,children:e.jsxs(T,{...E,as:j,ref:W,...!se(T)&&{ownerState:{...y,...E.ownerState}},...A,children:[g,G&&e.jsx(H,{children:G})]})})}),Je=ve(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}));function ns(){var X,Z;const[o,t]=n.useState({nombre:"",estado:"Todos"}),[a,m]=n.useState([]),[p,h]=n.useState(!1),[c,u]=n.useState({nombre:"",descripcion:"",estado:"activo"}),[P,k]=n.useState(!1),[i,z]=n.useState(null),[q]=n.useState([{id:1,nombre:"Consulta Cardiológica",codigo:"CC001"},{id:2,nombre:"Electrocardiograma",codigo:"ECG01"},{id:3,nombre:"Ecocardiograma",codigo:"ECO01"},{id:4,nombre:"Consulta Neurológica",codigo:"CN001"},{id:5,nombre:"Electroencefalograma",codigo:"EEG01"},{id:6,nombre:"Consulta Pediátrica",codigo:"CP001"},{id:7,nombre:"Control de Crecimiento",codigo:"CC002"}]),[S,C]=n.useState(null),[v,f]=n.useState({}),[G,r]=n.useState(""),F=[{id:1,nombre:"Cardiología",descripcion:"Especialidad médica dedicada al diagnóstico y tratamiento de enfermedades del corazón",fechaCreacion:"2024-01-15",estado:"activo",cantidadProfesionales:5,practicasAsociadas:[{id:1,nombre:"Consulta Cardiológica",codigo:"CC001"},{id:2,nombre:"Electrocardiograma",codigo:"ECG01"},{id:3,nombre:"Ecocardiograma",codigo:"ECO01"}]},{id:2,nombre:"Neurología",descripcion:"Especialidad médica que se ocupa del estudio del sistema nervioso",fechaCreacion:"2024-01-20",estado:"activo",cantidadProfesionales:3,practicasAsociadas:[{id:4,nombre:"Consulta Neurológica",codigo:"CN001"},{id:5,nombre:"Electroencefalograma",codigo:"EEG01"}]},{id:3,nombre:"Pediatría",descripcion:"Especialidad médica dedicada a la atención médica de bebés, niños y adolescentes",fechaCreacion:"2024-02-01",estado:"activo",cantidadProfesionales:4,practicasAsociadas:[{id:6,nombre:"Consulta Pediátrica",codigo:"CP001"},{id:7,nombre:"Control de Crecimiento",codigo:"CC002"}]},{id:4,nombre:"Ginecología",descripcion:"Especialidad médica dedicada a la atención de la salud reproductiva femenina",fechaCreacion:"2024-01-10",estado:"inactivo",cantidadProfesionales:0,practicasAsociadas:[]}],O=()=>{let s=F.filter(d=>{const Q=o.nombre===""||d.nombre.toLowerCase().includes(o.nombre.toLowerCase()),he=o.estado==="Todos"||d.estado===o.estado;return Q&&he});m(s),r(`Se encontraron ${s.length} especialidades que coinciden con los filtros.`),setTimeout(()=>r(""),3e3)},$=()=>{t({nombre:"",estado:"Todos"}),m([]),r("Filtros limpiados correctamente."),setTimeout(()=>r(""),3e3)},M=()=>{h(!0),u({nombre:"",descripcion:"",estado:"activo"})},R=()=>{h(!1)},g=()=>{if(!c.nombre||!c.descripcion){r("Por favor complete todos los campos obligatorios."),setTimeout(()=>r(""),3e3);return}console.log("Guardando especialidad:",c),r("Especialidad creada exitosamente."),setTimeout(()=>r(""),3e3),R()},w=s=>{z(s),k(!0)},y=()=>{k(!1),z(null)},B=s=>{console.log(`Agregando práctica ${s.nombre} a la especialidad ${i.nombre}`),r(`Práctica "${s.nombre}" agregada a ${i.nombre} exitosamente.`),setTimeout(()=>r(""),3e3)},W=s=>{console.log(`Quitando práctica ${s.nombre} de la especialidad ${i.nombre}`),r(`Práctica "${s.nombre}" removida de ${i.nombre} exitosamente.`),setTimeout(()=>r(""),3e3)},T=s=>{C(s.id),f({...s})},E=()=>{C(null),f({})},A=()=>{console.log("Guardando cambios:",v),r("Especialidad actualizada exitosamente."),setTimeout(()=>r(""),3e3),C(null),f({})},j=(s,d)=>{console.log(`Cambiando estado de la especialidad ${s} a ${d}`),r(`Especialidad ${d==="activo"?"activada":"desactivada"} exitosamente.`),setTimeout(()=>r(""),3e3)},pe=a.length>0?a:F;return e.jsxs(fe,{title:"Gestión de Especialidades",children:[e.jsxs(N,{sx:{width:"100%"},children:[e.jsx(ye,{sx:{mb:3},children:e.jsxs(Ee,{children:[e.jsx(b,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Filtros de Búsqueda"}),e.jsxs(x,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(D,{fullWidth:!0,label:"Nombre de la Especialidad",value:o.nombre,onChange:s=>t({...o,nombre:s.target.value}),placeholder:"Cardiología"})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(Le,{fullWidth:!0,children:[e.jsx(Ge,{children:"Estado"}),e.jsxs(Se,{value:o.estado,label:"Estado",onChange:s=>t({...o,estado:s.target.value}),children:[e.jsx(J,{value:"Todos",children:"Todos"}),e.jsx(J,{value:"activo",children:"Activo"}),e.jsx(J,{value:"inactivo",children:"Inactivo"})]})]})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(Ae,{direction:"row",spacing:1,children:[e.jsx(I,{variant:"contained",startIcon:e.jsx(Me,{}),onClick:O,size:"small",children:"Buscar"}),e.jsx(I,{variant:"outlined",startIcon:e.jsx(te,{}),onClick:$,size:"small",children:"Limpiar"})]})})]}),e.jsx(Ie,{sx:{my:2}}),e.jsx(N,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(I,{variant:"contained",color:"success",startIcon:e.jsx(oe,{}),onClick:M,size:"medium",children:"Nueva Especialidad"})})]})}),G&&e.jsx(Te,{severity:"info",sx:{mb:2},children:G}),e.jsx(ze,{component:V,children:e.jsxs(Fe,{children:[e.jsx($e,{children:e.jsxs(ie,{children:[e.jsx(l,{children:e.jsx("strong",{children:"Nombre"})}),e.jsx(l,{children:e.jsx("strong",{children:"Descripción"})}),e.jsx(l,{children:e.jsx("strong",{children:"Profesionales"})}),e.jsx(l,{children:e.jsx("strong",{children:"Prácticas"})}),e.jsx(l,{children:e.jsx("strong",{children:"Estado"})}),e.jsx(l,{children:e.jsx("strong",{children:"Acciones"})})]})}),e.jsx(we,{children:pe.map(s=>e.jsxs(ie,{children:[e.jsx(l,{children:S===s.id?e.jsx(D,{size:"small",value:v.nombre||"",onChange:d=>f({...v,nombre:d.target.value})}):e.jsx(b,{variant:"body2",sx:{fontWeight:"bold"},children:s.nombre})}),e.jsx(l,{children:S===s.id?e.jsx(D,{size:"small",multiline:!0,maxRows:3,value:v.descripcion||"",onChange:d=>f({...v,descripcion:d.target.value})}):e.jsx(b,{variant:"body2",sx:{maxWidth:300},children:s.descripcion})}),e.jsx(l,{children:e.jsx(b,{variant:"body2",color:s.cantidadProfesionales>0?"primary":"text.disabled",children:s.cantidadProfesionales})}),e.jsx(l,{children:e.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(b,{variant:"body2",children:s.practicasAsociadas.length}),e.jsx(I,{size:"small",variant:"outlined",onClick:()=>w(s),title:"Gestionar prácticas",children:"Gestionar"})]})}),e.jsx(l,{children:e.jsx(Pe,{label:s.estado==="activo"?"Activo":"Inactivo",color:s.estado==="activo"?"success":"default",size:"small"})}),e.jsx(l,{children:e.jsx(N,{sx:{display:"flex",gap:1},children:S===s.id?e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"small",color:"primary",onClick:A,title:"Guardar cambios",children:e.jsx(Re,{})}),e.jsx(L,{size:"small",color:"secondary",onClick:E,title:"Cancelar edición",children:e.jsx(te,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"small",color:"primary",onClick:()=>T(s),title:"Editar especialidad",children:e.jsx(Ne,{})}),e.jsx(L,{size:"small",color:s.estado==="activo"?"error":"success",onClick:()=>j(s.id,s.estado==="activo"?"inactivo":"activo"),title:s.estado==="activo"?"Desactivar especialidad":"Activar especialidad",children:s.estado==="activo"?e.jsx(De,{}):e.jsx(ke,{})})]})})})]},s.id))})]})})]}),e.jsxs(ae,{open:p,onClose:R,maxWidth:"md",fullWidth:!0,children:[e.jsx(re,{children:"Agregar Nueva Especialidad"}),e.jsx(ne,{children:e.jsxs(x,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(x,{item:!0,xs:12,children:e.jsx(D,{fullWidth:!0,label:"Nombre de la Especialidad *",value:c.nombre,onChange:s=>u({...c,nombre:s.target.value}),placeholder:"Cardiología"})}),e.jsx(x,{item:!0,xs:12,children:e.jsx(D,{fullWidth:!0,label:"Descripción *",multiline:!0,rows:4,value:c.descripcion,onChange:s=>u({...c,descripcion:s.target.value}),placeholder:"Descripción detallada de la especialidad médica"})})]})}),e.jsxs(ce,{children:[e.jsx(I,{onClick:R,children:"Cancelar"}),e.jsx(I,{onClick:g,variant:"contained",children:"Guardar Especialidad"})]})]}),e.jsxs(ae,{open:P,onClose:y,maxWidth:"lg",fullWidth:!0,children:[e.jsxs(re,{children:["Gestionar Prácticas - ",i==null?void 0:i.nombre]}),e.jsx(ne,{children:e.jsxs(x,{container:!0,spacing:3,sx:{mt:1},children:[e.jsxs(x,{item:!0,xs:12,md:6,children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:["Prácticas Asociadas (",((X=i==null?void 0:i.practicasAsociadas)==null?void 0:X.length)||0,")"]}),e.jsx(V,{sx:{p:2,minHeight:300},children:((Z=i==null?void 0:i.practicasAsociadas)==null?void 0:Z.length)>0?e.jsx(_,{children:i.practicasAsociadas.map(s=>e.jsxs(de,{divider:!0,children:[e.jsx(ee,{primary:s.nombre,secondary:`Código: ${s.codigo}`}),e.jsx(H,{children:e.jsx(L,{size:"small",color:"error",onClick:()=>W(s),title:"Quitar práctica",children:e.jsx(Je,{})})})]},s.id))}):e.jsx(N,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:e.jsx(b,{variant:"body2",color:"text.secondary",children:"No hay prácticas asociadas a esta especialidad"})})})]}),e.jsxs(x,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Prácticas Disponibles"}),e.jsx(V,{sx:{p:2,minHeight:300},children:e.jsx(_,{children:q.filter(s=>{var d;return!((d=i==null?void 0:i.practicasAsociadas)!=null&&d.some(Q=>Q.id===s.id))}).map(s=>e.jsxs(de,{divider:!0,children:[e.jsx(ee,{primary:s.nombre,secondary:`Código: ${s.codigo}`}),e.jsx(H,{children:e.jsx(L,{size:"small",color:"primary",onClick:()=>B(s),title:"Agregar práctica",children:e.jsx(oe,{})})})]},s.id))})})]})]})}),e.jsx(ce,{children:e.jsx(I,{onClick:y,variant:"contained",children:"Cerrar"})})]})]})}export{ns as default};
