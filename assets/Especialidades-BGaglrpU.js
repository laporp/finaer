import{e as me,g as xe,J as ue,U,j as e,s as K,p as Y,c as pe,V as je,k as be,N as Ce,W as ve,R as he,M as fe,G as c,E as H,B as T,b as h,S as ye,A as I,C as Ee,I as M,L as ee,x as se}from"./index-B4v5z84n.js";import{r as n}from"./router-BWB4lwgb.js";import{T as k,S as Ae,M as J,A as Ie}from"./TextField-JXFbNTHZ.js";import{F as Pe}from"./FormControl-0BoHNiFb.js";import{a as te,I as Se}from"./OutlinedInput-CLPfjtlP.js";import{S as Le,C as oe}from"./Search-B_VDFuKQ.js";import{A as ie,S as Te,E as Me,T as Ge,a as Re}from"./ToggleOn-LRN4vZBO.js";import{T as Ne}from"./TableContainer-DHJIhT0E.js";import{T as ke,d as De,b as ae,c as m,a as Fe}from"./TableRow-CEpqJaJk.js";import{D as re,a as ne,b as ce,c as de}from"./DialogTitle-D7slqSbK.js";import"./vendor-D5d5vywP.js";import"./useControlled-qcIaR4WP.js";function ze(o){return me("MuiListItem",o)}xe("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function $e(o){return me("MuiListItemSecondaryAction",o)}xe("MuiListItemSecondaryAction",["root","disableGutters"]);const we=o=>{const{disableGutters:t,classes:a}=o;return pe({root:["root",t&&"disableGutters"]},$e,a)},Be=K("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.root,a.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:o})=>o.disableGutters,style:{right:0}}]}),q=n.forwardRef(function(t,a){const x=ue({props:t,name:"MuiListItemSecondaryAction"}),{className:p,...g}=x,d=n.useContext(U),u={...x,disableGutters:d.disableGutters},P=we(u);return e.jsx(Be,{className:Y(P.root,p),ownerState:u,ref:a,...g})});q.muiName="ListItemSecondaryAction";const We=(o,t)=>{const{ownerState:a}=o;return[t.root,a.dense&&t.dense,a.alignItems==="flex-start"&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.hasSecondaryAction&&t.secondaryAction]},He=o=>{const{alignItems:t,classes:a,dense:x,disableGutters:p,disablePadding:g,divider:d,hasSecondaryAction:u}=o;return pe({root:["root",x&&"dense",!p&&"gutters",!g&&"padding",d&&"divider",t==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction"],container:["container"]},ze,a)},Ue=K("div",{name:"MuiListItem",slot:"Root",overridesResolver:We})(Ce(({theme:o})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${ve.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),qe=K("li",{name:"MuiListItem",slot:"Container",overridesResolver:(o,t)=>t.container})({position:"relative"}),le=n.forwardRef(function(t,a){const x=ue({props:t,name:"MuiListItem"}),{alignItems:p="center",children:g,className:d,component:u,components:P={},componentsProps:D={},ContainerComponent:i="li",ContainerProps:{className:F,...O}={},dense:S=!1,disableGutters:C=!1,disablePadding:v=!1,divider:f=!1,secondaryAction:G,slotProps:r={},slots:z={},...V}=x,$=n.useContext(U),R=n.useMemo(()=>({dense:S||$.dense||!1,alignItems:p,disableGutters:C}),[p,$.dense,S,C]),N=n.useRef(null),j=n.Children.toArray(g),w=j.length&&je(j[j.length-1],["ListItemSecondaryAction"]),y={...x,alignItems:p,dense:R.dense,disableGutters:C,disablePadding:v,divider:f,hasSecondaryAction:w},B=He(y),W=be(N,a),L=z.root||P.Root||Ue,E=r.root||D.root||{},A={className:Y(B.root,E.className,d),...V};let b=u||"li";return w?(b=!A.component&&!u?"div":b,i==="li"&&(b==="li"?b="div":A.component==="li"&&(A.component="div")),e.jsx(U.Provider,{value:R,children:e.jsxs(qe,{as:i,className:Y(B.container,F),ref:W,ownerState:y,...O,children:[e.jsx(L,{...E,...!te(L)&&{as:b,ownerState:{...y,...E.ownerState}},...A,children:j}),j.pop()]})})):e.jsx(U.Provider,{value:R,children:e.jsxs(L,{...E,as:b,ref:W,...!te(L)&&{ownerState:{...y,...E.ownerState}},...A,children:[j,G&&e.jsx(q,{children:G})]})})}),Oe=he(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Ve=he(e.jsx("path",{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4z"}));function as(){var Z,_;const[o,t]=n.useState({nombre:"",estado:"Todos"}),[a,x]=n.useState([]),[p,g]=n.useState(!1),[d,u]=n.useState({nombre:"",descripcion:"",estado:"activo"}),[P,D]=n.useState(!1),[i,F]=n.useState(null),[O]=n.useState([{id:1,nombre:"Consulta Cardiológica",codigo:"CC001"},{id:2,nombre:"Electrocardiograma",codigo:"ECG01"},{id:3,nombre:"Ecocardiograma",codigo:"ECO01"},{id:4,nombre:"Consulta Neurológica",codigo:"CN001"},{id:5,nombre:"Electroencefalograma",codigo:"EEG01"},{id:6,nombre:"Consulta Pediátrica",codigo:"CP001"},{id:7,nombre:"Control de Crecimiento",codigo:"CC002"}]),[S,C]=n.useState(null),[v,f]=n.useState({}),[G,r]=n.useState(""),z=[{id:1,nombre:"Cardiología",descripcion:"Especialidad médica dedicada al diagnóstico y tratamiento de enfermedades del corazón",fechaCreacion:"2024-01-15",estado:"activo",cantidadProfesionales:5,practicasAsociadas:[{id:1,nombre:"Consulta Cardiológica",codigo:"CC001"},{id:2,nombre:"Electrocardiograma",codigo:"ECG01"},{id:3,nombre:"Ecocardiograma",codigo:"ECO01"}]},{id:2,nombre:"Neurología",descripcion:"Especialidad médica que se ocupa del estudio del sistema nervioso",fechaCreacion:"2024-01-20",estado:"activo",cantidadProfesionales:3,practicasAsociadas:[{id:4,nombre:"Consulta Neurológica",codigo:"CN001"},{id:5,nombre:"Electroencefalograma",codigo:"EEG01"}]},{id:3,nombre:"Pediatría",descripcion:"Especialidad médica dedicada a la atención médica de bebés, niños y adolescentes",fechaCreacion:"2024-02-01",estado:"activo",cantidadProfesionales:4,practicasAsociadas:[{id:6,nombre:"Consulta Pediátrica",codigo:"CP001"},{id:7,nombre:"Control de Crecimiento",codigo:"CC002"}]},{id:4,nombre:"Ginecología",descripcion:"Especialidad médica dedicada a la atención de la salud reproductiva femenina",fechaCreacion:"2024-01-10",estado:"inactivo",cantidadProfesionales:0,practicasAsociadas:[]}],V=()=>{let s=z.filter(l=>{const Q=o.nombre===""||l.nombre.toLowerCase().includes(o.nombre.toLowerCase()),ge=o.estado==="Todos"||l.estado===o.estado;return Q&&ge});x(s),r(`Se encontraron ${s.length} especialidades que coinciden con los filtros.`),setTimeout(()=>r(""),3e3)},$=()=>{t({nombre:"",estado:"Todos"}),x([]),r("Filtros limpiados correctamente."),setTimeout(()=>r(""),3e3)},R=()=>{g(!0),u({nombre:"",descripcion:"",estado:"activo"})},N=()=>{g(!1)},j=()=>{if(!d.nombre||!d.descripcion){r("Por favor complete todos los campos obligatorios."),setTimeout(()=>r(""),3e3);return}console.log("Guardando especialidad:",d),r("Especialidad creada exitosamente."),setTimeout(()=>r(""),3e3),N()},w=s=>{F(s),D(!0)},y=()=>{D(!1),F(null)},B=s=>{console.log(`Agregando práctica ${s.nombre} a la especialidad ${i.nombre}`),r(`Práctica "${s.nombre}" agregada a ${i.nombre} exitosamente.`),setTimeout(()=>r(""),3e3)},W=s=>{console.log(`Quitando práctica ${s.nombre} de la especialidad ${i.nombre}`),r(`Práctica "${s.nombre}" removida de ${i.nombre} exitosamente.`),setTimeout(()=>r(""),3e3)},L=s=>{C(s.id),f({...s})},E=()=>{C(null),f({})},A=()=>{console.log("Guardando cambios:",v),r("Especialidad actualizada exitosamente."),setTimeout(()=>r(""),3e3),C(null),f({})},b=(s,l)=>{console.log(`Cambiando estado de la especialidad ${s} a ${l}`),r(`Especialidad ${l==="activo"?"activada":"desactivada"} exitosamente.`),setTimeout(()=>r(""),3e3)},X=a.length>0?a:z;return e.jsxs(fe,{title:"Gestión de Especialidades",children:[e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{item:!0,xs:12,children:e.jsx(H,{children:e.jsxs(T,{sx:{p:3},children:[e.jsx(h,{variant:"h6",gutterBottom:!0,children:"Filtros de Búsqueda"}),e.jsxs(c,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(c,{item:!0,xs:12,md:6,children:e.jsx(k,{fullWidth:!0,label:"Nombre de la Especialidad",value:o.nombre,onChange:s=>t({...o,nombre:s.target.value}),placeholder:"Cardiología"})}),e.jsx(c,{item:!0,xs:12,md:3,children:e.jsxs(Pe,{fullWidth:!0,children:[e.jsx(Se,{children:"Estado"}),e.jsxs(Ae,{value:o.estado,label:"Estado",onChange:s=>t({...o,estado:s.target.value}),children:[e.jsx(J,{value:"Todos",children:"Todos"}),e.jsx(J,{value:"activo",children:"Activo"}),e.jsx(J,{value:"inactivo",children:"Inactivo"})]})]})}),e.jsx(c,{item:!0,xs:12,md:3,children:e.jsxs(ye,{direction:"row",spacing:1,children:[e.jsx(I,{variant:"contained",startIcon:e.jsx(Le,{}),onClick:V,sx:{height:"56px"},children:"Buscar"}),e.jsx(I,{variant:"outlined",startIcon:e.jsx(oe,{}),onClick:$,sx:{height:"56px"},children:"Limpiar"})]})})]})]})})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(h,{variant:"h6",children:["Lista de Especialidades (",X.length,")"]}),e.jsx(I,{variant:"contained",startIcon:e.jsx(ie,{}),onClick:R,children:"Agregar Especialidad"})]})}),G&&e.jsx(c,{item:!0,xs:12,children:e.jsx(Ie,{severity:"info",sx:{mb:2},children:G})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(Ne,{component:H,children:e.jsxs(ke,{children:[e.jsx(De,{children:e.jsxs(ae,{children:[e.jsx(m,{children:e.jsx("strong",{children:"Nombre"})}),e.jsx(m,{children:e.jsx("strong",{children:"Descripción"})}),e.jsx(m,{children:e.jsx("strong",{children:"Profesionales"})}),e.jsx(m,{children:e.jsx("strong",{children:"Prácticas"})}),e.jsx(m,{children:e.jsx("strong",{children:"Estado"})}),e.jsx(m,{children:e.jsx("strong",{children:"Acciones"})})]})}),e.jsx(Fe,{children:X.map(s=>e.jsxs(ae,{children:[e.jsx(m,{children:S===s.id?e.jsx(k,{size:"small",value:v.nombre||"",onChange:l=>f({...v,nombre:l.target.value})}):e.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ve,{fontSize:"small",color:"primary"}),e.jsx(h,{variant:"body2",sx:{fontWeight:"bold"},children:s.nombre})]})}),e.jsx(m,{children:S===s.id?e.jsx(k,{size:"small",multiline:!0,maxRows:3,value:v.descripcion||"",onChange:l=>f({...v,descripcion:l.target.value})}):e.jsx(h,{variant:"body2",sx:{maxWidth:300},children:s.descripcion})}),e.jsx(m,{children:e.jsx(h,{variant:"body2",color:s.cantidadProfesionales>0?"primary":"text.disabled",children:s.cantidadProfesionales})}),e.jsx(m,{children:e.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(h,{variant:"body2",children:s.practicasAsociadas.length}),e.jsx(I,{size:"small",variant:"outlined",onClick:()=>w(s),title:"Gestionar prácticas",children:"Gestionar"})]})}),e.jsx(m,{children:e.jsx(Ee,{label:s.estado==="activo"?"Activo":"Inactivo",color:s.estado==="activo"?"success":"default",size:"small"})}),e.jsx(m,{children:e.jsx(T,{sx:{display:"flex",gap:1},children:S===s.id?e.jsxs(e.Fragment,{children:[e.jsx(M,{size:"small",color:"primary",onClick:A,title:"Guardar cambios",children:e.jsx(Te,{})}),e.jsx(M,{size:"small",color:"secondary",onClick:E,title:"Cancelar edición",children:e.jsx(oe,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{size:"small",color:"primary",onClick:()=>L(s),title:"Editar especialidad",children:e.jsx(Me,{})}),e.jsx(M,{size:"small",color:s.estado==="activo"?"warning":"success",onClick:()=>b(s.id,s.estado==="activo"?"inactivo":"activo"),title:s.estado==="activo"?"Desactivar especialidad":"Activar especialidad",children:s.estado==="activo"?e.jsx(Ge,{}):e.jsx(Re,{})})]})})})]},s.id))})]})})})]}),e.jsxs(re,{open:p,onClose:N,maxWidth:"md",fullWidth:!0,children:[e.jsx(ne,{children:"Agregar Nueva Especialidad"}),e.jsx(ce,{children:e.jsxs(c,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(c,{item:!0,xs:12,children:e.jsx(k,{fullWidth:!0,label:"Nombre de la Especialidad *",value:d.nombre,onChange:s=>u({...d,nombre:s.target.value}),placeholder:"Cardiología"})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(k,{fullWidth:!0,label:"Descripción *",multiline:!0,rows:4,value:d.descripcion,onChange:s=>u({...d,descripcion:s.target.value}),placeholder:"Descripción detallada de la especialidad médica"})})]})}),e.jsxs(de,{children:[e.jsx(I,{onClick:N,children:"Cancelar"}),e.jsx(I,{onClick:j,variant:"contained",children:"Guardar Especialidad"})]})]}),e.jsxs(re,{open:P,onClose:y,maxWidth:"lg",fullWidth:!0,children:[e.jsxs(ne,{children:["Gestionar Prácticas - ",i==null?void 0:i.nombre]}),e.jsx(ce,{children:e.jsxs(c,{container:!0,spacing:3,sx:{mt:1},children:[e.jsxs(c,{item:!0,xs:12,md:6,children:[e.jsxs(h,{variant:"h6",gutterBottom:!0,children:["Prácticas Asociadas (",((Z=i==null?void 0:i.practicasAsociadas)==null?void 0:Z.length)||0,")"]}),e.jsx(H,{sx:{p:2,minHeight:300},children:((_=i==null?void 0:i.practicasAsociadas)==null?void 0:_.length)>0?e.jsx(ee,{children:i.practicasAsociadas.map(s=>e.jsxs(le,{divider:!0,children:[e.jsx(se,{primary:s.nombre,secondary:`Código: ${s.codigo}`}),e.jsx(q,{children:e.jsx(M,{size:"small",color:"error",onClick:()=>W(s),title:"Quitar práctica",children:e.jsx(Oe,{})})})]},s.id))}):e.jsx(T,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:e.jsx(h,{variant:"body2",color:"text.secondary",children:"No hay prácticas asociadas a esta especialidad"})})})]}),e.jsxs(c,{item:!0,xs:12,md:6,children:[e.jsx(h,{variant:"h6",gutterBottom:!0,children:"Prácticas Disponibles"}),e.jsx(H,{sx:{p:2,minHeight:300},children:e.jsx(ee,{children:O.filter(s=>{var l;return!((l=i==null?void 0:i.practicasAsociadas)!=null&&l.some(Q=>Q.id===s.id))}).map(s=>e.jsxs(le,{divider:!0,children:[e.jsx(se,{primary:s.nombre,secondary:`Código: ${s.codigo}`}),e.jsx(q,{children:e.jsx(M,{size:"small",color:"primary",onClick:()=>B(s),title:"Agregar práctica",children:e.jsx(ie,{})})})]},s.id))})})]})]})}),e.jsx(de,{children:e.jsx(I,{onClick:y,variant:"contained",children:"Cerrar"})})]})]})}export{as as default};
