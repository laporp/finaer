import{j as e,M as Q,B as S,y as U,z as V,b as A,G as n,S as X,A as C,D as Y,E as Z,C as _,I as p}from"./index-DPdzcUTa.js";import{r as x}from"./router-BWB4lwgb.js";import{T as u,S as j,M as d,A as ee}from"./TextField-D2Fs674o.js";import{F as g}from"./FormControl-Bc5q5vBv.js";import{I as b}from"./OutlinedInput-oJBVk4Jr.js";import{S as ie,C as F}from"./Search-BJg9C1QO.js";import{A as ae,S as se,E as oe,T as re,a as le}from"./ToggleOn-DSwU-6U6.js";import{T as ne}from"./TableContainer-PGdmwORK.js";import{T as te,d as de,b as z,c as r,a as ce}from"./TableRow-DRjgF7nC.js";import{D as ue,a as xe,b as he,c as me}from"./DialogTitle-D3gBt2m5.js";import"./vendor-D5d5vywP.js";import"./useControlled-qcIaR4WP.js";function We(){const[s,v]=x.useState({nombre:"",codigo:"",especialidad:"Todas",estado:"Todos"}),[P,W]=x.useState([]),[N,q]=x.useState(!1),[o,h]=x.useState({nombre:"",codigo:"",especialidad:"",descripcion:"",requiereTurno:"si",estado:"activo"}),[m,f]=x.useState(null),[t,c]=x.useState({}),[D,l]=x.useState(""),T=["Cardiología","Neurología","Pediatría","Ginecología","Dermatología","Traumatología","Psiquiatría","Oftalmología","Odontología","Análisis Clínicos"],y=[{id:1,nombre:"Consulta Cardiológica",codigo:"CC001",especialidad:"Cardiología",descripcion:"Consulta general de cardiología",requiereTurno:"si",fechaCreacion:"2024-01-15",estado:"activo"},{id:2,nombre:"Electrocardiograma",codigo:"ECG01",especialidad:"Cardiología",descripcion:"Estudio del ritmo cardíaco",requiereTurno:"si",fechaCreacion:"2024-01-20",estado:"activo"},{id:3,nombre:"Consulta Neurológica",codigo:"CN001",especialidad:"Neurología",descripcion:"Consulta general de neurología",requiereTurno:"si",fechaCreacion:"2024-02-01",estado:"activo"},{id:4,nombre:"Análisis de Sangre",codigo:"AS001",especialidad:"Análisis Clínicos",descripcion:"Extracción y análisis de sangre",requiereTurno:"no",fechaCreacion:"2024-01-10",estado:"inactivo"}],I=()=>{let i=y.filter(a=>{const $=s.nombre===""||a.nombre.toLowerCase().includes(s.nombre.toLowerCase()),H=s.codigo===""||a.codigo.toLowerCase().includes(s.codigo.toLowerCase()),J=s.especialidad==="Todas"||a.especialidad===s.especialidad,K=s.estado==="Todos"||a.estado===s.estado;return $&&H&&J&&K});W(i),l(`Se encontraron ${i.length} prácticas que coinciden con los filtros.`),setTimeout(()=>l(""),3e3)},M=()=>{v({nombre:"",codigo:"",especialidad:"Todas",estado:"Todos"}),W([]),l("Filtros limpiados correctamente."),setTimeout(()=>l(""),3e3)},k=()=>{q(!0),h({nombre:"",codigo:"",especialidad:"",descripcion:"",requiereTurno:"si",estado:"activo"})},E=()=>{q(!1)},w=()=>{if(!o.nombre||!o.codigo||!o.especialidad){l("Por favor complete todos los campos obligatorios."),setTimeout(()=>l(""),3e3);return}console.log("Guardando práctica:",o),l("Práctica creada exitosamente."),setTimeout(()=>l(""),3e3),E()},G=i=>{f(i.id),c({...i})},B=()=>{f(null),c({})},L=()=>{console.log("Guardando cambios:",t),l("Práctica actualizada exitosamente."),setTimeout(()=>l(""),3e3),f(null),c({})},R=(i,a)=>{console.log(`Cambiando estado de la práctica ${i} a ${a}`),l(`Práctica ${a==="activo"?"activada":"desactivada"} exitosamente.`),setTimeout(()=>l(""),3e3)},O=P.length>0?P:y;return e.jsxs(Q,{title:"Gestión de Prácticas",children:[e.jsxs(S,{sx:{width:"100%"},children:[e.jsx(U,{sx:{mb:3},children:e.jsxs(V,{children:[e.jsx(A,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Filtros de Búsqueda"}),e.jsxs(n,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(n,{item:!0,xs:12,md:3,children:e.jsx(u,{fullWidth:!0,label:"Nombre de la Práctica",value:s.nombre,onChange:i=>v({...s,nombre:i.target.value}),placeholder:"Consulta Cardiológica"})}),e.jsx(n,{item:!0,xs:12,md:2,children:e.jsx(u,{fullWidth:!0,label:"Código",value:s.codigo,onChange:i=>v({...s,codigo:i.target.value}),placeholder:"CC001"})}),e.jsx(n,{item:!0,xs:12,md:2,children:e.jsxs(g,{fullWidth:!0,children:[e.jsx(b,{children:"Especialidad"}),e.jsxs(j,{value:s.especialidad,label:"Especialidad",onChange:i=>v({...s,especialidad:i.target.value}),children:[e.jsx(d,{value:"Todas",children:"Todas"}),T.map(i=>e.jsx(d,{value:i,children:i},i))]})]})}),e.jsx(n,{item:!0,xs:12,md:2,children:e.jsxs(g,{fullWidth:!0,children:[e.jsx(b,{children:"Estado"}),e.jsxs(j,{value:s.estado,label:"Estado",onChange:i=>v({...s,estado:i.target.value}),children:[e.jsx(d,{value:"Todos",children:"Todos"}),e.jsx(d,{value:"activo",children:"Activo"}),e.jsx(d,{value:"inactivo",children:"Inactivo"})]})]})}),e.jsx(n,{item:!0,xs:12,md:3,children:e.jsxs(X,{direction:"row",spacing:1,children:[e.jsx(C,{variant:"contained",startIcon:e.jsx(ie,{}),onClick:I,size:"small",children:"Buscar"}),e.jsx(C,{variant:"outlined",startIcon:e.jsx(F,{}),onClick:M,size:"small",children:"Limpiar"})]})})]}),e.jsx(Y,{sx:{my:2}}),e.jsx(S,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(C,{variant:"contained",color:"success",startIcon:e.jsx(ae,{}),onClick:k,size:"medium",children:"Nueva Práctica"})})]})}),D&&e.jsx(ee,{severity:"info",sx:{mb:2},children:D}),e.jsx(ne,{component:Z,children:e.jsxs(te,{children:[e.jsx(de,{children:e.jsxs(z,{children:[e.jsx(r,{children:e.jsx("strong",{children:"Nombre"})}),e.jsx(r,{children:e.jsx("strong",{children:"Código"})}),e.jsx(r,{children:e.jsx("strong",{children:"Especialidad"})}),e.jsx(r,{children:e.jsx("strong",{children:"Descripción"})}),e.jsx(r,{children:e.jsx("strong",{children:"Requiere Turno"})}),e.jsx(r,{children:e.jsx("strong",{children:"Estado"})}),e.jsx(r,{children:e.jsx("strong",{children:"Acciones"})})]})}),e.jsx(ce,{children:O.map(i=>e.jsxs(z,{children:[e.jsx(r,{children:m===i.id?e.jsx(u,{size:"small",value:t.nombre||"",onChange:a=>c({...t,nombre:a.target.value})}):i.nombre}),e.jsx(r,{children:m===i.id?e.jsx(u,{size:"small",value:t.codigo||"",onChange:a=>c({...t,codigo:a.target.value})}):e.jsx(A,{variant:"body2",sx:{fontFamily:"monospace",fontWeight:"bold"},children:i.codigo})}),e.jsx(r,{children:m===i.id?e.jsx(g,{size:"small",sx:{minWidth:140},children:e.jsx(j,{value:t.especialidad||"",onChange:a=>c({...t,especialidad:a.target.value}),children:T.map(a=>e.jsx(d,{value:a,children:a},a))})}):i.especialidad}),e.jsx(r,{children:m===i.id?e.jsx(u,{size:"small",multiline:!0,maxRows:3,value:t.descripcion||"",onChange:a=>c({...t,descripcion:a.target.value})}):e.jsx(A,{variant:"body2",sx:{maxWidth:200},children:i.descripcion})}),e.jsx(r,{children:m===i.id?e.jsx(g,{size:"small",sx:{minWidth:80},children:e.jsxs(j,{value:t.requiereTurno||"",onChange:a=>c({...t,requiereTurno:a.target.value}),children:[e.jsx(d,{value:"si",children:"Sí"}),e.jsx(d,{value:"no",children:"No"})]})}):i.requiereTurno==="si"?"Sí":"No"}),e.jsx(r,{children:e.jsx(_,{label:i.estado==="activo"?"Activo":"Inactivo",color:i.estado==="activo"?"success":"default",size:"small"})}),e.jsx(r,{children:e.jsx(S,{sx:{display:"flex",gap:1},children:m===i.id?e.jsxs(e.Fragment,{children:[e.jsx(p,{size:"small",color:"primary",onClick:L,title:"Guardar cambios",children:e.jsx(se,{})}),e.jsx(p,{size:"small",color:"secondary",onClick:B,title:"Cancelar edición",children:e.jsx(F,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{size:"small",color:"primary",onClick:()=>G(i),title:"Editar práctica",children:e.jsx(oe,{})}),e.jsx(p,{size:"small",color:i.estado==="activo"?"error":"success",onClick:()=>R(i.id,i.estado==="activo"?"inactivo":"activo"),title:i.estado==="activo"?"Desactivar práctica":"Activar práctica",children:i.estado==="activo"?e.jsx(re,{}):e.jsx(le,{})})]})})})]},i.id))})]})})]}),e.jsxs(ue,{open:N,onClose:E,maxWidth:"md",fullWidth:!0,children:[e.jsx(xe,{children:"Agregar Nueva Práctica"}),e.jsx(he,{children:e.jsxs(n,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(n,{item:!0,xs:12,md:6,children:e.jsx(u,{fullWidth:!0,label:"Nombre de la Práctica *",value:o.nombre,onChange:i=>h({...o,nombre:i.target.value}),placeholder:"Consulta Cardiológica"})}),e.jsx(n,{item:!0,xs:12,md:6,children:e.jsx(u,{fullWidth:!0,label:"Código *",value:o.codigo,onChange:i=>h({...o,codigo:i.target.value}),placeholder:"CC001"})}),e.jsx(n,{item:!0,xs:12,md:6,children:e.jsxs(g,{fullWidth:!0,sx:{minWidth:200},children:[e.jsx(b,{children:"Especialidad *"}),e.jsx(j,{value:o.especialidad,label:"Especialidad *",onChange:i=>h({...o,especialidad:i.target.value}),children:T.map(i=>e.jsx(d,{value:i,children:i},i))})]})}),e.jsx(n,{item:!0,xs:12,md:6,children:e.jsxs(g,{fullWidth:!0,sx:{minWidth:200},children:[e.jsx(b,{children:"Requiere Turno"}),e.jsxs(j,{value:o.requiereTurno,label:"Requiere Turno",onChange:i=>h({...o,requiereTurno:i.target.value}),children:[e.jsx(d,{value:"si",children:"Sí"}),e.jsx(d,{value:"no",children:"No"})]})]})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(u,{fullWidth:!0,label:"Descripción",multiline:!0,rows:3,value:o.descripcion,onChange:i=>h({...o,descripcion:i.target.value}),placeholder:"Descripción detallada de la práctica médica"})})]})}),e.jsxs(me,{children:[e.jsx(C,{onClick:E,children:"Cancelar"}),e.jsx(C,{onClick:w,variant:"contained",children:"Guardar Práctica"})]})]})]})}export{We as default};
